<div class="repair-form-container">
    <div class="form-header">
      <button 
        class="back-button"
        (click)="onBackToDashboard()"
      >
        ← Retour au tableau de bord
      </button>
      
      <div class="technician-info">
        Technicien: {{ technicianInfo.name }} | Date: {{ technicianInfo.date | date:'dd/MM/yyyy' }}
      </div>
    </div>
  
    <app-progress-bar
      [currentStep]="currentStep"
      [totalSteps]="totalSteps"
    ></app-progress-bar>
  
    <div class="step-content">
      <!-- Étape 1: Informations conducteur -->
      <app-driver-info 
        *ngIf="currentStep === 1"
        [data]="formData.driver"
        (dataChange)="onDriverDataChange($event)"
        (nextStep)="onNextStep()"
      ></app-driver-info>
  
      <!-- Étape 2: Informations véhicule -->
      <app-vehicle-info 
        *ngIf="currentStep === 2"
        [data]="formData.vehicle"
        (dataChange)="onVehicleDataChange($event)"
        (nextStep)="onNextStep()"
        (previousStep)="onPreviousStep()"
      ></app-vehicle-info>
  
      <!-- Étape 3: État du véhicule -->
      <app-vehicle-condition 
        *ngIf="currentStep === 3"
        [data]="formData.condition"
        (dataChange)="onConditionDataChange($event)"
        (nextStep)="onNextStep()"
        (previousStep)="onPreviousStep()"
      ></app-vehicle-condition>
  
      <!-- Étape 4: Sélection des pneus -->
      <app-tire-selection 
        *ngIf="currentStep === 4"
        [data]="formData.tires"
        (dataChange)="onTireDataChange($event)"
        (nextStep)="onNextStep()"
        (previousStep)="onPreviousStep()"
      ></app-tire-selection>
  
      <!-- Étape 5: Gardiennage -->
      <app-storage 
        *ngIf="currentStep === 5"
        [data]="formData.storage"
        (dataChange)="onStorageDataChange($event)"
        (previousStep)="onPreviousStep()"
        (finishOrder)="onFinishOrder()"
      ></app-storage>
    </div>
  </div>